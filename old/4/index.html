<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>mriiiron</title>
    <link rel="stylesheet" type="text/css" href="./css/style.css">
</head>

<body>

    <div class="wrapper">
        <div class="centered">
            <canvas id="canvas" width="640" height="480"></canvas>
            <!--h1>Caiyi Zhong</h1-->
            <ul>
                <li class="disabled">Projects</li>
                <li><a href="https://github.com/mriiiron" target="_blank">GitHub</a></li>
                <li class="disabled">Others</li>
                <li class="disabled">Resume</li>
            </ul>
        </div>
    </div>

    <script src="../../js/wesa.js"></script>

    <script>

        var canvas = document.getElementById('canvas');
        var control = {
            mouse: { x: 0, y: 0 }
        };

        canvas.onmousemove = function(e) {
            control.mouse.x = e.pageX - canvas.offsetLeft - canvas.width / 2;
            control.mouse.y = canvas.height / 2 - (e.pageY - canvas.offsetTop);
            // console.log(mouse);
        };

        // Initialize WESA
        wesa.core.init(canvas);

        // Adding assets ready for loading
        wesa.assets.source.spriteSheetUrlArray = [
            './assets/tank.png',
            './assets/cz.png'
        ];
        wesa.assets.source.objectJsonUrl = './assets/tank.json';

        // Load assets
        wesa.assets.load(function () {
            var scene = new wesa.Scene('Scene');
            scene.addSpriteToLayer(0, new wesa.Sprite({
                object: wesa.assets.objectList[0],
                action: 0,
                team: 0,
                position: { x: 0, y: -150 },
                scale: 2
            }));
            scene.addSpriteToLayer(0, new wesa.Sprite({
                object: wesa.assets.objectList[1],
                action: 0,
                team: 0,
                position: { x: 0, y: 100 },
                scale: 2
            }));
            var animate = function () {
                requestAnimationFrame(animate);
                scene.update();
                scene.render();
            }
            animate();
        });

    </script>

</body>

</html>
